<!DOCTYPE html>
<html>
<head>
  <title>Automod Configuration</title>
</head>
<body>
  <h1>Update Automod Configuration</h1>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul>
        {% for category, message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
  <form method="post">
    <label>Bad Words (comma separated):</label><br>
    <input type="text" name="bad_words" value="{{ config.badword_rule.bad_words | join(', ') if config.badword_rule and config.badword_rule.bad_words else '' }}"><br><br>

    <label>Blocked Links (comma separated):</label><br>
    <input type="text" name="blocked_links" value="{{ config.link_blocking_rule.blocked_links | join(', ') if config.link_blocking_rule and config.link_blocking_rule.blocked_links else '' }}"><br><br>

    <label>Max Mentions:</label><br>
    <input type="number" name="max_mentions" value="{{ config.mass_mention_rule.max_mentions if config.mass_mention_rule and config.mass_mention_rule.max_mentions else 5 }}"><br><br>

    <label>Max Caps Ratio:</label><br>
    <input type="number" step="0.01" name="max_caps_ratio" value="{{ config.caps_rule.max_caps_ratio if config.caps_rule and config.caps_rule.max_caps_ratio else 0.7 }}"><br><br>

    <label>Min Length for Caps Rule:</label><br>
    <input type="number" name="min_length" value="{{ config.caps_rule.min_length if config.caps_rule and config.caps_rule.min_length else 10 }}"><br><br>

    <label>Blocked Filetypes (comma separated):</label><br>
    <input type="text" name="blocked_filetypes" value="{{ config.attachment_rule.blocked_filetypes | join(', ') if config.attachment_rule and config.attachment_rule.blocked_filetypes else '' }}"><br><br>

    <label>Spam Interval (seconds):</label><br>
    <input type="number" name="spam_interval" value="{{ config.spam_rule.spam_interval if config.spam_rule and config.spam_rule.spam_interval else 10 }}"><br><br>

    <label>Spam Threshold (messages):</label><br>
    <input type="number" name="spam_threshold" value="{{ config.spam_rule.spam_threshold if config.spam_rule and config.spam_rule.spam_threshold else 5 }}"><br><br>

    <input type="submit" value="Update Configuration">
  </form>
</body>
</html>